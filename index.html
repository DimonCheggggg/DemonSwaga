<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>xGolub üïäÔ∏è ‚Äî –¢—É—Ä–Ω–∏—Ä 3x3</title>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f7; margin:0; padding:0 12px 40px; }
    header { background:#fff9; padding:8px 12px; font-style:italic; color:#333; display:flex; justify-content:space-between; align-items:center; }
    header .brand { font-weight:600; }
    main { max-width:1000px; margin:12px auto; }
    .controls { text-align:center; margin:12px 0; }
    button { margin:6px; padding:8px 14px; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:600; }
    .btn-primary { background:#4CAF50; } .btn-blue { background:#2196F3; } .btn-gray { background:#6c757d; } .btn-red { background:#e53935; } .btn-yellow { background:#ff9800; color:#fff; }
    .panel { background:white; padding:12px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.06); margin-bottom:12px; }
    table { width:100%; border-collapse:collapse; margin-top:8px; }
    th, td { padding:8px 6px; text-align:center; border:1px solid #e6e9eb; font-size:14px; }
    th { background:#f0f2f3; }
    input[type="number"] { width:56px; padding:4px; text-align:center; }
    input[type="text"] { width:180px; padding:6px; }
    .row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .hidden { display:none; }
    .small { font-size:12px; color:#666; }
    footer { text-align:center; font-size:12px; color:#666; margin-top:14px; }
  </style>
</head>
<body>
  <header>
    <div class="brand">xGolub üïäÔ∏è</div>
    <div class="small">–û–Ω–ª–∞–π–Ω ‚Äî –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
  </header>

  <main>
    <div class="controls">
      <button id="showOddsBtn" class="btn-primary">–ö—ç—Ñ—ã</button>
      <button id="showTableBtn" class="btn-blue">–¢—É—Ä–Ω–∏—Ä</button>
      <button id="randomTeamsBtn" class="btn-yellow">–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</button>
    </div>

    <!-- === Odds === -->
    <section id="oddsSection" class="panel">
      <h3>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</h3>
      <table id="oddsTable">
        <thead><tr><th>–ú–∞—Ç—á</th><th>–ü1</th><th>–ù</th><th>–ü2</th></tr></thead>
        <tbody></tbody>
      </table>
      <div style="text-align:center;margin-top:8px;">
        <button id="calcOddsBtn" class="btn-primary">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫—ç—Ñ</button>
        <button id="randomOddsBtn" class="btn-blue">–†–∞–Ω–¥–æ–º–Ω—ã–µ –∫—ç—Ñ—ã</button>
      </div>
    </section>

    <!-- === Tournament === -->
    <section id="tournamentSection" class="panel hidden">
      <h3>–¢—É—Ä–Ω–∏—Ä</h3>

      <div class="row">
        <div><div class="small">–°–∞–Ω—è</div><input id="team_sanya" type="text" placeholder="–ö–æ–º–∞–Ω–¥–∞ –°–∞–Ω–∏" value="–°–∞–Ω—è"></div>
        <div><div class="small">–û–ª–µ–≥</div><input id="team_oleg" type="text" placeholder="–ö–æ–º–∞–Ω–¥–∞ –û–ª–µ–≥–∞" value="–û–ª–µ–≥"></div>
        <div><div class="small">–î–∏–º–∞</div><input id="team_dima" type="text" placeholder="–ö–æ–º–∞–Ω–¥–∞ –î–∏–º—ã" value="–î–∏–º–∞"></div>
        <div style="margin-left:auto;">
          <button id="showTournamentDataBtn" class="btn-gray">–ü–æ–∫–∞–∑–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
          <button id="resetTournamentBtn" class="btn-red">–°–±—Ä–æ—Å–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
        </div>
      </div>

      <div id="tournamentData" class="hidden">
        <h4>–ú–∞—Ç—á–∏</h4>
        <table id="matchesTable">
          <thead><tr><th>–ú–∞—Ç—á</th><th>–ì–æ–ª—ã —Ö–æ–∑—è–µ–≤</th><th>–ì–æ–ª—ã –≥–æ—Å—Ç–µ–π</th></tr></thead>
          <tbody></tbody>
        </table>

        <h4>–¢–∞–±–ª–∏—Ü–∞</h4>
        <table id="standingsTable">
          <thead><tr><th>–ö–æ–º–∞–Ω–¥–∞</th><th>–ò</th><th>–í</th><th>–ù</th><th>–ü</th><th>–ì–ó</th><th>–ì–ü</th><th>–†–∞–∑–Ω</th><th>–û—á–∫–∏</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <footer>¬© xGolub 2025</footer>
  </main>

<script>
let firebaseConnected = false;

try {
  const firebaseConfig = {
    apiKey: "–í–ê–®_API_KEY",
    authDomain: "–í–ê–®_PROJECT.firebaseapp.com",
    databaseURL: "https://–í–ê–®_PROJECT-default-rtdb.firebaseio.com",
    projectId: "–í–ê–®_PROJECT",
    storageBucket: "–í–ê–®_PROJECT.appspot.com",
    messagingSenderId: "–í–ê–®_SENDER_ID",
    appId: "–í–ê–®_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  firebaseConnected = true;
} catch(e) {
  console.warn("Firebase –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω, —Ä–∞–±–æ—Ç–∞–µ–º –≤ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ");
}

const players = ["sanya","oleg","dima"];
const defaults = { sanya:"–°–∞–Ω—è", oleg:"–û–ª–µ–≥", dima:"–î–∏–º–∞" };
const matches = [
  {id:"dima_sanya",home:"dima",away:"sanya"},
  {id:"dima_oleg",home:"dima",away:"oleg"},
  {id:"sanya_oleg",home:"sanya",away:"oleg"}
];

const clubs = ["–†–µ–∞–ª –ú–∞–¥—Ä–∏–¥","–ë–∞—Ä—Å–µ–ª–æ–Ω–∞","–ê—Ç–ª–µ—Ç–∏–∫–æ –ú–∞–¥—Ä–∏–¥","–ú–∞–Ω—á–µ—Å—Ç–µ—Ä –°–∏—Ç–∏","–ê—Ä—Å–µ–Ω–∞–ª","–õ–∏–≤–µ—Ä–ø—É–ª—å","–ë–∞–≤–∞—Ä–∏—è","–ë–∞–π–µ—Ä","–ü–°–ñ","–ú–∞—Ä—Å–µ–ª—å","–Æ–≤–µ–Ω—Ç—É—Å","–ú–∏–ª–∞–Ω"];

const oddsTableBody=document.querySelector("#oddsTable tbody");
const matchesTbody=document.querySelector("#matchesTable tbody");
const standingsTbody=document.querySelector("#standingsTable tbody");

const teamInputs={
  sanya:document.getElementById("team_sanya"),
  oleg:document.getElementById("team_oleg"),
  dima:document.getElementById("team_dima")
};

function show(id){document.getElementById(id).classList.remove("hidden");}
function hide(id){document.getElementById(id).classList.add("hidden");}
function toggle(id){document.getElementById(id).classList.toggle("hidden");}

document.getElementById("showOddsBtn").onclick=()=>{show("oddsSection");hide("tournamentSection");};
document.getElementById("showTableBtn").onclick=()=>{show("tournamentSection");hide("oddsSection");};
document.getElementById("showTournamentDataBtn").onclick=()=>toggle("tournamentData");

document.getElementById("randomTeamsBtn").onclick=()=>{
  const shuffled=clubs.sort(()=>Math.random()-0.5);
  const picks={ sanya:shuffled[0], oleg:shuffled[1], dima:shuffled[2] };
  for(let p in picks) teamInputs[p].value=picks[p];
  alert(`–°–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–±—Ä–∞–Ω—ã:\n\n–°–∞–Ω—è ‚Äî ${picks.sanya}\n–û–ª–µ–≥ ‚Äî ${picks.oleg}\n–î–∏–º–∞ ‚Äî ${picks.dima}`);
};

document.getElementById("calcOddsBtn").onclick=()=>{
  oddsTableBody.innerHTML="";
  for(let m of matches){
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${m.home} ‚Äî ${m.away}</td><td>${(Math.random()*2+2).toFixed(2)}</td><td>${(Math.random()*3).toFixed(2)}</td><td>${(Math.random()*2+1).toFixed(2)}</td>`;
    oddsTableBody.appendChild(tr);
  }
};

document.getElementById("randomOddsBtn").onclick=()=>{
  oddsTableBody.innerHTML="";
  for(let m of matches){
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${m.home} ‚Äî ${m.away}</td><td>${(Math.random()*8+1).toFixed(2)}</td><td>${(Math.random()*8+1).toFixed(2)}</td><td>${(Math.random()*8+1).toFixed(2)}</td>`;
    oddsTableBody.appendChild(tr);
  }
};

document.getElementById("resetTournamentBtn").onclick=()=>{
  matchesTbody.innerHTML="";
  standingsTbody.innerHTML="";
  hide("tournamentData");
};

</script>
</body>
</html>
